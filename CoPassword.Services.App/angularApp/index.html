<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CoPassword.Services.App</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="api/config/env.js"></script>

  <script>

      function detectIE () {
          var ua = window.navigator.userAgent;

          var msie = ua.indexOf('MSIE ');
          if (msie > 0) {
              // IE 10 or older => return version number
              return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
          }

          var trident = ua.indexOf('Trident/');
          if (trident > 0) {
              var rv = ua.indexOf('rv:');
              return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
          }

          var edge = ua.indexOf('Edge/');
          if (edge > 0) {
              return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
          }

          return false;
      }

      function cropString () {
          var arrStr = window.location.href.split('signin-oidc#');
          if (arrStr[1] && detectIE()) {
              if (!!~arrStr[1].indexOf('token_type')) {
                  const url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
                  sessionStorage.setItem('str_access', arrStr[1]);
                  history.pushState(null, '', url);
              }
          }
      }

      cropString();
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
